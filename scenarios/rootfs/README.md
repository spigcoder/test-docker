# RootFS 模块记录

`fill/` 程序通过 `StorageOpt["size"]` 把容器根文件系统限制为 128 MiB，然后在 `/root/system-fill.bin` 写入 8 MiB 的块，实时输出 `系统盘写入累计/已用/剩余`。一旦 `dd` 报错（磁盘写满），脚本会以退出码 55 结束，并附带 `df` 结果。

> 注意：只有 devicemapper、btrfs、zfs 等驱动支持该参数。若宿主机使用 `overlay2`，可能无法真正限制系统盘，此时程序会提示“未触发系统盘空间不足”。

## 运行方式

```bash
GO111MODULE=on go run ./scenarios/rootfs/fill
```

## 预期现象

- 驱动支持时：日志最终出现 `系统盘写入失败，说明 StorageOpt 限额生效`，容器退出码 55。
- 驱动不支持时：程序会报错 `未观察到系统盘空间耗尽`，需要根据实际驱动调整方案。

## 结果记录

- 最近一次运行：**待运行**，建议记录宿主机存储驱动与退出码，方便排查。
